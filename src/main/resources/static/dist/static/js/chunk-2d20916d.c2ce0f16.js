(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20916d"],{a822:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticStyle:{padding:"50px",overflow:"auto"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"车号|数字",prop:"carid"}},[t("el-input",{attrs:{oninput:"value=value.replace(/[^0-9.]/g,'')"},model:{value:e.ruleForm.carid,callback:function(r){e.$set(e.ruleForm,"carid",r)},expression:"ruleForm.carid"}})],1),t("el-form-item",{attrs:{label:"进出时间",required:""}},[t("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","unlink-panels":""},on:{input:e.daterangeChange},model:{value:e.ruleForm.value1,callback:function(r){e.$set(e.ruleForm,"value1",r)},expression:"ruleForm.value1"}})],1),t("el-form-item",{attrs:{label:"扣费",prop:"fare"}},[t("el-input",{model:{value:e.ruleForm.fare,callback:function(r){e.$set(e.ruleForm,"fare",r)},expression:"ruleForm.fare"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即创建")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},o=[],l={name:"AddParkRecord",data:function(){return{ruleForm:{carid:"",fare:"",entrancetime:"",exittime:"",value1:[]},rules:{carid:[{required:!0,message:"请输入车牌号|只允许数字",trigger:"blur"}],charge:[{required:!0,message:"请选择扣费金额",trigger:"change"}]}}},methods:{daterangeChange:function(e){var r=this;console.log(e),r.$nextTick((function(){r.$set(r.ruleForm,"value1",[e[0],e[1]]),r.$forceUpdate()}))},submitForm:function(e){var r=this;this.ruleForm.entrancetime=this.ruleForm.value1[0],console.log(this.ruleForm.entrancetime),this.ruleForm.exittime=this.ruleForm.value1[1];var t=this;console.log(this.ruleForm),this.$refs[e].validate((function(e){if(!e)return alert("error submit!!"),!1;r.$axios.post("/parkrecord/addRecord",r.ruleForm).then((function(e){console.log(e),e.data?(t.$axios.post("/parkrecord/sendMess",t.ruleForm),t.$alert("添加成功","提示",{confirmButtonText:"确定",callback:function(e){t.$router.push("/manage/parkrecordmanage")}})):this.$message("更新失败")}))}))},resetForm:function(e){this.$refs[e].resetFields()}}},n=l,u=t("4ac2"),i=Object(u["a"])(n,a,o,!1,null,"7e4c9a5c",null);r["default"]=i.exports}}]);