(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c073c"],{"429a":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticStyle:{padding:"100px",overflow:"auto"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{width:"40%"},attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"用户",prop:"username"}},[t("el-input",{model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),t("el-form-item",{attrs:{label:"手机号",required:""}},[t("el-input",{model:{value:e.phone,callback:function(r){e.phone=r},expression:"phone"}})],1),t("el-form-item",{attrs:{label:"缴费金额",prop:"fare"}},[t("el-input",{model:{value:e.ruleForm.fare,callback:function(r){e.$set(e.ruleForm,"fare",r)},expression:"ruleForm.fare"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("缴费")]),t("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},n=[],a=(t("e35a"),t("5e9f"),t("84c2"),t("1c2e"),{name:"AddPay",data:function(){return{ruleForm:{username:"",fare:"",time:""},phone:"",u_user:[],rules:{fare:[{required:!0,message:"请选择扣费金额",trigger:"change"}],username:[{required:!0,message:"请填写用户名",trigger:"change"}]}}},methods:{submitForm:function(e){console.log(this.ruleForm);var r=this,t=/^(13[0-9]|14[0-9]|15[0-9]|16[6]|18[0-9]|19[6,9]|17[0-9])\d{8}$/i;if(""!==this.phone&&""!==this.ruleForm.username&&t.test(this.phone)){var o={username:this.ruleForm.username,phone:this.phone};this.$axios.post("http://localhost:8080/user/existByPhoneAndUsername",o).then((function(t){t.data?r.$refs[e].validate((function(e){if(!e)return alert("error submit!"),!1;r.ruleForm.time=s("yyyy-MM-dd hh:mm:ss",new Date),r.$axios.post("http://localhost:8080/pay/addRecord",r.ruleForm).then((function(e){console.log(e.data),2e4===e.data.code?r.$alert("缴费成功","提示",{confirmButtonText:"确定",callback:function(e){r.$router.push({path:"/managefin/Finance"})}}):r.$message.error("缴费失败--"+e.data.message)}))})):r.$message.error("找不到该用户，请检查用户名和密码")}))}else r.$message.error("数据为空或手机号格式不正确")},resetForm:function(e){this.$refs[e].resetFields()}}});function s(e,r){var t={"M+":r.getMonth()+1,"d+":r.getDate(),"h+":r.getHours(),"m+":r.getMinutes(),"s+":r.getSeconds(),"q+":Math.floor((r.getMonth()+3)/3),S:r.getMilliseconds()};for(var o in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(r.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e}var l=a,u=t("4ac2"),i=Object(u["a"])(l,o,n,!1,null,"03fecf78",null);r["default"]=i.exports}}]);